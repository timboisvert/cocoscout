<%= form_with(model: [:manage, location], class: "contents") do |form| %>
  <% if location.errors.any? %>
    <div id="error_explanation" class="bg-pink-50 px-3 py-2 font-medium rounded-md mt-3">
      <h2><%= pluralize(location.errors.count, "error") %> prohibited this location from being saved:</h2>

      <ul class="list-disc ml-6">
        <% location.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="my-5">
    <%= form.label :name %>
    <div class="text-gray-500 text-sm mb-1">The name of the location that will be displayed to users.</div>
    <%= form.text_field :name, class: ["block shadow-sm rounded-md border px-3 py-2 mt-2 w-full", {"border-gray-400": location.errors[:name].none?, "border-pink-500": location.errors[:name].any?}] %>
  </div>


  <div class="mt-10">
    <%= render partial: "shared/top_menu", locals: {
      breadcrumbs: [],
      text: "Address",
      links: []
    } %>

    <div class="my-5">
      <%= form.label :address1, "Street Address Line 1" %>
      <%= form.text_field :address1, class: ["block shadow-sm rounded-md border px-3 py-2 mt-2 w-full", {"border-gray-400": location.errors[:address1].none?, "border-pink-500": location.errors[:address1].any?}] %>
    </div>

    <div class="my-5">
      <%= form.label :address2, "Street Address Line 2" %>
      <span class="text-sm text-gray-500"> (optional)</span>
      <%= form.text_field :address2, class: ["block shadow-sm rounded-md border px-3 py-2 mt-2 w-full", {"border-gray-400": location.errors[:address2].none?, "border-pink-500": location.errors[:address2].any?}] %>
    </div>

    <div class="my-5 flex flex-wrap gap-4">
      <div class="w-full md:w-[40%]">
        <%= form.label :city %>
        <%= form.text_field :city, class: ["block shadow-sm rounded-md border px-3 py-2 mt-2 w-full", {"border-gray-400": location.errors[:city].none?, "border-pink-500": location.errors[:city].any?}] %>
      </div>

      <div class="w-full md:w-[25%]">
        <%= form.label :state, "State/Province" %>
        <%= form.select :state,
          options_for_select([
            ["Alabama", "AL"], ["Alaska", "AK"], ["Arizona", "AZ"], ["Arkansas", "AR"], ["California", "CA"], ["Colorado", "CO"], ["Connecticut", "CT"], ["Delaware", "DE"], ["District of Columbia", "DC"], ["Florida", "FL"], ["Georgia", "GA"], ["Hawaii", "HI"], ["Idaho", "ID"], ["Illinois", "IL"], ["Indiana", "IN"], ["Iowa", "IA"], ["Kansas", "KS"], ["Kentucky", "KY"], ["Louisiana", "LA"], ["Maine", "ME"], ["Maryland", "MD"], ["Massachusetts", "MA"], ["Michigan", "MI"], ["Minnesota", "MN"], ["Mississippi", "MS"], ["Missouri", "MO"], ["Montana", "MT"], ["Nebraska", "NE"], ["Nevada", "NV"], ["New Hampshire", "NH"], ["New Jersey", "NJ"], ["New Mexico", "NM"], ["New York", "NY"], ["North Carolina", "NC"], ["North Dakota", "ND"], ["Ohio", "OH"], ["Oklahoma", "OK"], ["Oregon", "OR"], ["Pennsylvania", "PA"], ["Rhode Island", "RI"], ["South Carolina", "SC"], ["South Dakota", "SD"], ["Tennessee", "TN"], ["Texas", "TX"], ["Utah", "UT"], ["Vermont", "VT"], ["Virginia", "VA"], ["Washington", "WA"], ["West Virginia", "WV"], ["Wisconsin", "WI"], ["Wyoming", "WY"],
            ["--- Canadian Provinces ---", ""],
            ["Alberta", "AB"], ["British Columbia", "BC"], ["Manitoba", "MB"], ["New Brunswick", "NB"], ["Newfoundland and Labrador", "NL"], ["Northwest Territories", "NT"], ["Nova Scotia", "NS"], ["Nunavut", "NU"], ["Ontario", "ON"], ["Prince Edward Island", "PE"], ["Quebec", "QC"], ["Saskatchewan", "SK"], ["Yukon", "YT"]
          ], location.state),
          { include_blank: "Select State/Province" },
          class: ["block shadow-sm rounded-md border px-3 py-2 mt-2 w-full", {"border-gray-400": location.errors[:state].none?, "border-pink-500": location.errors[:state].any?}]
        %>
      </div>

      <div class="w-full md:w-[25%]">
        <%= form.label :postal_code, "Zip/Postal Code" %>
        <%= form.text_field :postal_code, maxlength: 10, class: ["block shadow-sm rounded-md border px-3 py-2 mt-2 w-full", {"border-gray-400": location.errors[:postal_code].none?, "border-pink-500": location.errors[:postal_code].any?}] %>
      </div>
    </div>

  </div>

  <div class="mt-10">
    <%= render partial: "shared/top_menu", locals: {
      breadcrumbs: [],
      text: "Notes/Instructions",
      links: []
    } %>

    <div class="my-5">
      <div class="text-gray-500 text-sm mb-1">Any additional information about this location, such as parking instructions, entry details, etc.</div>
      <%= form.text_area :notes, rows: 4, class: ["block shadow-sm rounded-md border px-3 py-2 mt-2 w-full", {"border-gray-400": location.errors[:notes].none?, "border-pink-500": location.errors[:notes].any?}] %>
    </div>

  </div>

  <div class="my-5">
    <div class="flex items-center">
      <%= form.check_box :default, class: "mr-2 accent-pink-500" %>
      <%= form.label :default, "Set as default location", class: "text-sm" %>
    </div>
    <div class="text-gray-500 text-sm mt-1">When creating shows or auditions, this location will be pre-selected.</div>
  </div>

  <div class="border-t border-gray-200 pt-5 mt-5">
    <%= render "shared/button", text: (location.new_record? ? "Add Location" : "Update Location"), variant: "primary", size: "medium", type: :submit %>
    <%= render "shared/button", text: "Back", variant: "ghost-cancel", size: "medium", path: "javascript:history.back()", type: :button %>
  </div>
<% end %>
