<% content_for :title, "Schedule Auditions" %>

<div class="w-full mb-10" data-controller="drag-audition">
  <%= render partial: "shared/notice", locals: { notice: notice } %>
  <%= render partial: "shared/top_menu", locals: {
    breadcrumbs: [
      ["Auditions", manage_production_auditions_path(@production)],
      ["Review", review_manage_production_audition_cycle_path(@production, @audition_cycle)]
    ],
    text: "Schedule Auditions",
    links: []
  } %>

  <%= render partial: "lifecycle_panel", locals: { current_step: :review } %>

  <div class="flex gap-6">
    <!-- Sessions on the left (smaller) -->
    <div class="w-1/2">
      <%= render partial: "sessions_list", locals: { audition_sessions: @audition_sessions } %>
    </div>

    <!-- Sign-ups on the right (larger) -->
    <div class="w-1/2 flex-shrink-0">
      <div class="sticky top-4 bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden max-h-[calc(100vh-2rem)] flex flex-col">
        <div class="bg-gray-50 px-4 py-3 border-b border-gray-200">
          <h2 class="text-md font-semibold text-gray-900 coustard-regular">Sign-ups</h2>
          <p class="text-xs text-gray-500 mt-1">
            Drag each person to an audition slot to schedule them.
          </p>
        </div>
        <%= render partial: "right_list", locals: { available_people: @available_people, production: @production, audition_cycle: @audition_cycle, scheduled_request_ids: @scheduled_request_ids, scheduled_auditionables: @scheduled_auditionables } %>
      </div>
    </div>
  </div>
</div>
