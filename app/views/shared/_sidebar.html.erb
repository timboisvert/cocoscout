
<nav class="w-56 bg-white border-r border-r-2 border-gray-200 flex flex-col transition-all duration-200 ease-in-out z-20 justify-between fixed left-0 top-0 h-screen">
  <div>

    <%= link_to dashboard_path, class: "mb-2" do %>
      <h1 class="p-5 pb-3 text-3xl coustard-regular text-pink-500">CocoScout</h1>
    <% end %>

    <div>
      <% if Current.production.present? && !Current.production.new_record? %>
        <%= link_to Current.production.name, production_path(Current.production), class: "flex items-center gap-3 px-5 py-2 hover:bg-pink-500 hover:text-white transition-all font-medium" %>

        <%
        links = [
          {"Shows" => production_shows_path(Current.production)},
          {"Casting" => production_casts_path(Current.production)},
          {"Roles" => production_roles_path(Current.production)},
          {"Auditions" => production_auditions_path(Current.production)}
        ]
        %>

        <% links.each do |item| %>
          <%= link_to item.keys.first, item.values.first, class: "block px-8 py-2 hover:bg-pink-100 hover:text-pink-700 transition-all text-sm" %>
        <% end %>

      <% else %>

        <%= link_to "Productions", productions_path, class: "flex items-center gap-3 px-5 py-2 hover:bg-pink-500 hover:text-white transition-all font-medium" %>

      <% end %>

      <%= link_to "Talent", people_path, class: "flex items-center gap-3 px-5 py-2 hover:bg-pink-500 hover:text-white transition-all font-medium" %>
    </div>

  </div>

  <!-- Bottom section -->
  <div>

    <div class="flex justify-center">
      <%= image_tag "cocoscout.png", alt: "CocoScout Logo", class: "w-32" %>
    </div>

    <div class="px-4 py-6 border-t-4 border-pink-400 text-xs text-gray-500">
      <% if Current.user %>
        <div class="font-semibold text-gray-700 truncate">
          <%= Current.user.email_address %>
          <span class="text-gray-500"><%= link_to "Log out", session_path, data: {turbo_method: :delete}, class: "text-pink-500 underline" %></span>
        </div>
        <div class="font-medium text-gray-700 mt-2">
          <%= link_to Current.production_company.name, select_production_companies_path, class: "text-pink-500 font-bold underline text-xs" %> &gt;
        </div>

      <% else %>
        <div class="italic">Not signed in</div>
      <% end %>
    </div>

  </div>

</nav>