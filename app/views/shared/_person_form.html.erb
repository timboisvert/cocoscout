<div>

    <div class="mb-5 md:flex md:space-x-5">
        <div class="md:w-2/3">
            <% if @person.errors[:name].none? %>
                <%= person_form.label :name, "Name" %>
            <% else %>
                <%= person_form.label :name, "Name is required", class: "text-pink-600"  %>
            <% end %>
            <% unless @cold_data_mode %>
                <span class="text-sm text-gray-500"> (Your stage name or performing name)</span>
            <% end %>
            <%= person_form.text_field :name, class: ["block shadow-sm rounded-lg border px-3 py-2 mt-2 w-full", {"border-gray-400 focus:outline-pink-500": @person.errors[:name].none?, "border-pink-500 focus:outline-pink-500": @person.errors[:name].any?}] %>
        </div>

        <div class="md:w-1/3 mt-5 md:mt-0">
            <%= person_form.label :pronouns %>
            <span class="text-sm text-gray-500"> (optional)</span>
            <%= person_form.text_field :pronouns, class: ["block shadow-sm rounded-lg border px-3 py-2 mt-2 w-full", {"border-gray-400 focus:outline-pink-500": @person.errors[:pronouns].none?, "border-pink-500 focus:outline-pink-500": @person.errors[:pronouns].any?}] %>
        </div>
    </div>

    <div class="my-5" data-controller="socials">
        <label>Socials<span class="text-sm text-gray-500"> (optional)</span></label>
        <div id="socials-fields" data-socials-target="list" class="mt-1">
            <%= person_form.fields_for :socials do |social_form| %>
                <div class="flex items-center mb-2 socials-fields-row" data-socials-target="row"<% if social_form.object.persisted? %> data-socials-persisted="true"<% end %>>
                    <%= social_form.hidden_field :id %>
                    <%= social_form.hidden_field :_destroy, value: "0", data: { socials_target: "destroy" } %>
                    <%= social_form.select :platform, Social.platforms.keys.map { |k| [k.titleize, k] }, {}, class: "inline-block shadow-sm rounded-lg border px-3 py-2 mr-2 border-gray-400 focus:outline-pink-500" %>
                    <%= social_form.text_field :handle, placeholder: "Username/Handle", class: "inline-block w-64 shadow-sm rounded-lg border px-3 py-2 mr-2 border-gray-400 focus:outline-pink-500" %>
                    <%= link_to "Remove", '#', class: "remove-social text-pink-500 underline text-sm", data: { action: "socials#remove" } %>
                </div>
            <% end %>
        </div>
        <%= link_to "Add Social", '#', class: "text-pink-500 underline text-sm", data: { action: "socials#add" } %>
        <template id="socials-template">
            <div class="flex items-center mb-2 socials-fields-row" data-socials-target="row">
                <select name="" class="inline-block shadow-sm rounded-lg border px-3 py-2 mr-2 border-gray-400 focus:outline-pink-500">
                    <% Social.platforms.keys.each do |platform| %>
                        <option value="<%= platform %>"><%= platform.titleize %></option>
                    <% end %>
                </select>
                <input type="text" name="" class="inline-block w-64 shadow-sm rounded-lg border px-3 py-2 mr-2 border-gray-400 focus:outline-pink-500" placeholder="Username/Handle" />
                <a href="#" class="remove-social text-pink-500 underline text-sm" data-action="socials#remove">Remove</a>
            </div>
        </template>
    </div>

    <div class="my-5 md:flex md:w-full">
        <div class="md:mr-5 md:w-half">

            <%
            if @person.headshot.attached?
                label_text = "Update your Headshot"
            else
                label_text = "Headshot"
            end
            %>

            <%= person_form.label :headshot, label_text %>

            <% if @person.errors[:headshot].any? %>
                <div class="text-sm text-pink-600">
                    <%= @person.errors[:headshot].join(", ") %>
                </div>
            <% else %>
                <span class="text-sm text-gray-500"> (JPG or PNG)</span>
            <% end %>

            <div class="block shadow-sm rounded-lg border px-3 py-2 mt-2 w-half border-gray-400">
                <%= person_form.file_field :headshot, class: "text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-white file:bg-pink-500 hover:file:bg-pink-600" %>
            </div>
        </div>
        <div class="my-5 md:my-0 md:ml-5 md:w-half">

            <%
            if @person.resume.attached?
                label_text = "Update your Resume/CV"
            else
                label_text = "Resume/CV"
            end
            %>

            <%= person_form.label :resume, label_text %>

            <% if @person.errors[:resume].any? %>
                <div class="text-sm text-pink-600">
                    <%= @person.errors[:resume].join(", ") %>
                </div>
            <% else %>
                <span class="text-sm text-gray-500"> (PDF, JPG, or PNG)</span>
            <% end %>

            <div class="block shadow-sm rounded-lg border px-3 py-2 mt-2 w-half border-gray-400">
                <%= person_form.file_field :resume, class: "text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-white file:bg-pink-500 hover:file:bg-pink-600" %>
            </div>
        </div>
    </div>
</div>