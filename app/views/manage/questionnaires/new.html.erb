<% content_for :title, "New Questionnaire - #{@production.name}" %>

<div class="w-full">
  <%= render partial: "shared/notice", locals: { notice: notice } %>
  <%= render partial: "shared/top_menu", locals: {
    breadcrumbs: [
      ["Communications", manage_communications_path],
      [@production.name, manage_communications_production_path(@production)],
      ["Questionnaires", manage_communications_questionnaires_path(@production)]
    ],
    text: "Create Questionnaire",
    links: []
  } %>

  <%= form_with(model: @questionnaire, url: manage_communications_questionnaires_path(@production), method: :post, data: { turbo: false }, class: "contents") do |form| %>

    <div class="my-5">
      <% if @questionnaire.errors[:title].none? %>
        <%= form.label :title, "Questionnaire Title" %>
      <% else %>
        <%= form.label :title, "Questionnaire Title is required", class: "text-pink-600" %>
      <% end %>
      <span class="text-sm text-gray-500"> (e.g., "Actor Information Form")</span>
      <%= form.text_field :title, class: ["block shadow-sm rounded-lg border px-3 py-2 mt-2 w-full", {"border-gray-400": @questionnaire.errors[:title].none?, "border-pink-500": @questionnaire.errors[:title].any?}], placeholder: "e.g., Actor Information Form", autofocus: true %>
      <p class="mt-1 text-sm text-gray-500">You can add questions and customize the form after creating it</p>
    </div>

    <div class="border-t border-gray-200 pt-5 mt-5">
      <%= render "shared/button", text: "Create Questionnaire", variant: "primary", size: "medium", type: :submit %>
      <%= render "shared/button", text: "Back", variant: "ghost-cancel", size: "medium", path: "javascript:history.back()", type: :button %>
    </div>

  <% end %>

</div>
