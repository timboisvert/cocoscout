<% content_for :title, "People" %>

<div class="w-full">

  <%= render partial: "shared/notice", locals: { notice: notice } %>

  <%= render partial: "shared/top_menu", locals: {
    breadcrumbs: [],
    text: "People",
    links: [
      { text: "+ Add a Person", path: new_person_path }
    ]
  } %>

  <div class="relative flex w-full flex-col rounded-lg border border-slate-200 bg-white shadow-sm">
    <div class="flex min-w-[240px] flex-col gap-1 p-1.5">
      <% if @people.any? %>
        <% @people.each do |person| %>
          <%= link_to person_path(person) do %>
            <div class="text-slate-800 flex w-full items-center rounded-lg p-3 transition-all hover:bg-slate-100 focus:bg-slate-100 active:bg-slate-100">
              <div class="mr-4 grid place-items-center">
                <% if person.headshot.attached? %>
                  <%= image_tag url_for(person.headshot.variant(:thumb)), class: "relative inline-block h-12 w-12 !rounded-lg object-cover object-center" %>
                <% else %>
                   <div class="w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center mb-1 text-black font-bold">
                    <%= person.initials %>
                  </div>
                <% end %>
              </div>
              <div>
                <h6 class="font-medium text-xl">
                  <%= truncate(person.stage_name, length: 50, omission: "...") %>
                  <% if person.pronouns.present? %>
                    <span class="text-slate-500 text-sm">(<%= person.pronouns %>)</span>
                  <% end %>
                </h6>
                <p class="text-slate-500 text-sm">
                  <%= person.email %>
                </p>
              </div>
            </div>
          <% end %>
        <% end %>
      <% else %>
        <p class="text-center my-10">No people found.</p>
      <% end %>
    </div>
  </div>
</div>
