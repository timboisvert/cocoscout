<% content_for :title, "Contact #{@person.name}" %>

<div class="w-full">
  <%= render partial: "shared/notice", locals: { notice: notice } %>
  <%= render partial: "shared/top_menu", locals: {
    breadcrumbs: [
      ["Directory", manage_directory_path],
      [@person.name, manage_person_path(@person)]
    ],
    text: "Send Email",
    links: []
  } %>

  <div class="bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden max-w-2xl">
    <div class="bg-gray-50 px-4 py-3 border-b border-gray-200">
      <h3 class="text-md font-semibold text-gray-900 coustard-regular">Send Email to <%= @person.name %></h3>
    </div>
    <div class="p-6">
      <p class="text-sm text-gray-600 mb-4">
        <strong>Recipient:</strong> <%= @person.email %>
      </p>

      <%= form_with url: send_contact_email_manage_person_path(@person), method: :post, local: true do |f| %>
        <div class="mb-4">
          <%= f.label :subject, "Subject", class: "block text-sm font-semibold text-gray-900 mb-2" %>
          <%= f.text_field :subject, class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500", placeholder: "Email subject" %>
        </div>

        <div class="mb-4">
          <%= f.label :message, "Message", class: "block text-sm font-semibold text-gray-900 mb-2" %>
          <%= f.text_area :message, class: "w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500", rows: 10, placeholder: "Your message here..." %>
        </div>

        <div class="flex gap-2">
          <%= f.submit "Send Email", class: "font-medium rounded-lg text-sm px-5 h-10 py-2.5 text-center inline-block text-white bg-pink-500 hover:bg-pink-600 cursor-pointer" %>
          <%= link_to "Cancel", manage_person_path(@person), class: "font-medium rounded-lg text-sm px-5 h-10 py-2.5 text-center inline-block text-gray-700 bg-gray-100 hover:bg-gray-200 cursor-pointer" %>
        </div>
      <% end %>
    </div>
  </div>
</div>
