<div class="bg-gray-50 px-4 py-3 border-b border-gray-200">
  <h3 class="text-md font-semibold text-gray-900 coustard-regular">Availability Settings</h3>
</div>
<div class="p-6">
  <%= form_with url: update_availability_settings_manage_production_questionnaire_path(production, questionnaire), method: :patch, data: { turbo: true } do |form| %>
    <div class="space-y-4">
      <div class="flex items-center">
        <%= form.check_box :include_availability_section, class: "h-4 w-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500", checked: questionnaire.include_availability_section %>
        <%= form.label :include_availability_section, "Include availability section", class: "ml-2 text-sm font-medium text-gray-700" %>
      </div>
      
      <% if questionnaire.include_availability_section %>
        <div class="ml-6 space-y-4">
          <div class="flex items-center">
            <%= form.check_box :require_all_availability, class: "h-4 w-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500", checked: questionnaire.require_all_availability %>
            <%= form.label :require_all_availability, "Require availability for all shows", class: "ml-2 text-sm font-medium text-gray-700" %>
          </div>

          <div>
            <label class="text-sm font-medium text-gray-700 block mb-2">Event Types</label>
            <div class="space-y-2">
              <% Show.event_types.keys.each do |event_type| %>
                <div class="flex items-center">
                  <%= check_box_tag "questionnaire[availability_event_types][]", event_type, (questionnaire.availability_event_types || []).include?(event_type), class: "h-4 w-4 text-pink-600 border-gray-300 rounded focus:ring-pink-500" %>
                  <%= label_tag "questionnaire_availability_event_types_#{event_type}", event_type.titleize, class: "ml-2 text-sm text-gray-700" %>
                </div>
              <% end %>
            </div>
          </div>
        </div>
      <% end %>

      <div class="pt-4">
        <%= form.submit "Save Settings", class: "w-full px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition text-sm font-medium" %>
      </div>
    </div>
  <% end %>
</div>
