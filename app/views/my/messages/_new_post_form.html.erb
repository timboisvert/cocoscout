<% post_object = defined?(post) && post.present? ? post : Post.new %>
<%= form_with model: post_object, url: my_create_message_path(production_id: production.id), method: :post, local: false, class: "space-y-3" do |f| %>
  <div>
    <%= f.rich_text_area :body,
        placeholder: "Share something...",
        class: "block w-full rounded-lg border border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-pink-500 focus:ring-pink-500" %>
  </div>
  <% if post_object.errors.any? %>
    <div class="text-pink-600 text-sm">
      <% post_object.errors.full_messages.each do |message| %>
        <p><%= message %></p>
      <% end %>
    </div>
  <% end %>
  <div class="flex justify-end">
    <%= render "shared/button", text: "Post", variant: "primary", size: "small", type: :submit %>
  </div>
<% end %>
