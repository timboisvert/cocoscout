<%# Subject field with locked production/organization name prefix %>
<%# Usage: render "shared/subject_field_with_prefix", form: f, field_name: :title, production: @production, placeholder: "Email subject..." %>
<%# Or: render "shared/subject_field_with_prefix", form: f, field_name: :title, organization: @organization, placeholder: "Email subject..." %>
<% field_name ||= :title %>
<% placeholder ||= "Email subject..." %>
<% required ||= false %>
<% prefix_name = defined?(production) && production ? production.name : organization.name %>

<div class="flex items-stretch">
  <span class="inline-flex items-center px-3 rounded-l-lg border border-r-0 border-gray-300 bg-gray-100 text-gray-600 text-sm whitespace-nowrap">
    [<%= prefix_name %>]
  </span>
  <%= form.text_field field_name,
    class: "block w-full min-w-0 rounded-r-lg border border-gray-300 px-3 py-2 text-gray-900 placeholder:text-gray-400 focus:border-pink-500 focus:ring-pink-500 text-sm",
    placeholder: placeholder,
    required: required %>
</div>
