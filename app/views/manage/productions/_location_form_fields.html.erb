<%
  # Location form fields partial for modals
  # Parameters:
  #   prefix: optional string prefix for Stimulus targets (e.g., "edit" for edit modal)
  prefix = local_assigns.fetch(:prefix, nil)
  target_prefix = prefix ? "#{prefix.camelize(:lower)}" : ""
%>

<div class="mb-4">
  <label for="<%= prefix %>location_name" class="block text-sm font-medium text-gray-700 mb-1">Name</label>
  <div class="text-gray-500 text-xs mb-1">The name of the location that will be displayed to users.</div>
  <input type="text" id="<%= prefix %>location_name" name="location[name]" <% if prefix %>data-locations-settings-target="<%= target_prefix %>Name"<% end %> class="block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm">
</div>

<div class="mb-4">
  <label for="<%= prefix %>location_address1" class="block text-sm font-medium text-gray-700 mb-1">Street Address Line 1</label>
  <input type="text" id="<%= prefix %>location_address1" name="location[address1]" <% if prefix %>data-locations-settings-target="<%= target_prefix %>Address1"<% end %> class="block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm">
</div>

<div class="mb-4">
  <label for="<%= prefix %>location_address2" class="block text-sm font-medium text-gray-700 mb-1">Street Address Line 2 <span class="text-gray-500 font-normal">(optional)</span></label>
  <input type="text" id="<%= prefix %>location_address2" name="location[address2]" <% if prefix %>data-locations-settings-target="<%= target_prefix %>Address2"<% end %> class="block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm">
</div>

<div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
  <div>
    <label for="<%= prefix %>location_city" class="block text-sm font-medium text-gray-700 mb-1">City</label>
    <input type="text" id="<%= prefix %>location_city" name="location[city]" <% if prefix %>data-locations-settings-target="<%= target_prefix %>City"<% end %> class="block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm">
  </div>
  <div>
    <label for="<%= prefix %>location_state" class="block text-sm font-medium text-gray-700 mb-1">State/Province</label>
    <select id="<%= prefix %>location_state" name="location[state]" <% if prefix %>data-locations-settings-target="<%= target_prefix %>State"<% end %> class="block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm">
      <option value="">Select...</option>
      <option value="AL">Alabama</option>
      <option value="AK">Alaska</option>
      <option value="AZ">Arizona</option>
      <option value="AR">Arkansas</option>
      <option value="CA">California</option>
      <option value="CO">Colorado</option>
      <option value="CT">Connecticut</option>
      <option value="DE">Delaware</option>
      <option value="DC">District of Columbia</option>
      <option value="FL">Florida</option>
      <option value="GA">Georgia</option>
      <option value="HI">Hawaii</option>
      <option value="ID">Idaho</option>
      <option value="IL">Illinois</option>
      <option value="IN">Indiana</option>
      <option value="IA">Iowa</option>
      <option value="KS">Kansas</option>
      <option value="KY">Kentucky</option>
      <option value="LA">Louisiana</option>
      <option value="ME">Maine</option>
      <option value="MD">Maryland</option>
      <option value="MA">Massachusetts</option>
      <option value="MI">Michigan</option>
      <option value="MN">Minnesota</option>
      <option value="MS">Mississippi</option>
      <option value="MO">Missouri</option>
      <option value="MT">Montana</option>
      <option value="NE">Nebraska</option>
      <option value="NV">Nevada</option>
      <option value="NH">New Hampshire</option>
      <option value="NJ">New Jersey</option>
      <option value="NM">New Mexico</option>
      <option value="NY">New York</option>
      <option value="NC">North Carolina</option>
      <option value="ND">North Dakota</option>
      <option value="OH">Ohio</option>
      <option value="OK">Oklahoma</option>
      <option value="OR">Oregon</option>
      <option value="PA">Pennsylvania</option>
      <option value="RI">Rhode Island</option>
      <option value="SC">South Carolina</option>
      <option value="SD">South Dakota</option>
      <option value="TN">Tennessee</option>
      <option value="TX">Texas</option>
      <option value="UT">Utah</option>
      <option value="VT">Vermont</option>
      <option value="VA">Virginia</option>
      <option value="WA">Washington</option>
      <option value="WV">West Virginia</option>
      <option value="WI">Wisconsin</option>
      <option value="WY">Wyoming</option>
      <optgroup label="Canadian Provinces">
        <option value="AB">Alberta</option>
        <option value="BC">British Columbia</option>
        <option value="MB">Manitoba</option>
        <option value="NB">New Brunswick</option>
        <option value="NL">Newfoundland and Labrador</option>
        <option value="NT">Northwest Territories</option>
        <option value="NS">Nova Scotia</option>
        <option value="NU">Nunavut</option>
        <option value="ON">Ontario</option>
        <option value="PE">Prince Edward Island</option>
        <option value="QC">Quebec</option>
        <option value="SK">Saskatchewan</option>
        <option value="YT">Yukon</option>
      </optgroup>
    </select>
  </div>
  <div>
    <label for="<%= prefix %>location_postal_code" class="block text-sm font-medium text-gray-700 mb-1">Zip/Postal Code</label>
    <input type="text" id="<%= prefix %>location_postal_code" name="location[postal_code]" maxlength="10" <% if prefix %>data-locations-settings-target="<%= target_prefix %>PostalCode"<% end %> class="block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm">
  </div>
</div>

<div class="mb-4">
  <label for="<%= prefix %>location_notes" class="block text-sm font-medium text-gray-700 mb-1">Notes <span class="text-gray-500 font-normal">(optional)</span></label>
  <div class="text-gray-500 text-xs mb-1">Parking instructions, entry details, etc.</div>
  <textarea id="<%= prefix %>location_notes" name="location[notes]" rows="3" <% if prefix %>data-locations-settings-target="<%= target_prefix %>Notes"<% end %> class="block w-full rounded-lg border border-gray-300 px-3 py-2 shadow-sm"></textarea>
</div>

<div class="mb-4">
  <label class="flex items-center gap-2">
    <input type="checkbox" id="<%= prefix %>location_default" name="location[default]" value="1" <% if prefix %>data-locations-settings-target="<%= target_prefix %>Default"<% end %> class="rounded border-gray-300 text-pink-600 focus:ring-pink-500 accent-pink-500">
    <span class="text-sm font-medium text-gray-700">Set as default location</span>
  </label>
</div>
