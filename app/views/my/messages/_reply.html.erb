<%# Reply message partial %>
<div class="bg-white rounded-lg border border-gray-200 p-4">
  <div class="flex items-start gap-3">
    <%# Sender avatar - uses shared partial for production team vs personal avatar %>
    <% sender_person = message.sender.is_a?(Person) ? message.sender : message.sender.person %>
    <%= render "shared/messages/message_avatar", message: message, sender_person: sender_person, size: :small %>

    <div class="flex-1">
      <div class="flex items-center justify-between mb-2">
        <span class="font-medium text-gray-900"><%= message.sender_name %></span>
        <span class="text-sm text-gray-500"><%= time_ago_in_words(message.created_at) %> ago</span>
      </div>
      <div class="prose prose-sm max-w-none">
        <%= message.body %>
      </div>
    </div>
  </div>
</div>
