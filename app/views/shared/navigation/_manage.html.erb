
<nav class="hidden w-56 bg-white border-r border-r-2 border-gray-200 lg:flex flex-col transition-all duration-200 ease-in-out z-20 justify-between fixed left-0 top-16 h-[calc(100vh-4rem)]">
  <div class="flex-1 overflow-y-auto">

    <div class="mt-2">

      <% if Current.production.present? && !Current.production.new_record? %>

        <%
        links = [
          {
            label: "Shows & Events",
            path: manage_production_shows_path(Current.production),
            active: controller_name == "shows"
          },
          {
            label: "Availability",
            path: manage_production_availability_index_path(Current.production),
            active: controller_name == "availability"
          },
          {
            label: "Casting & Roles",
            path: manage_production_casting_path(Current.production),
            active: ["casting", "roles", "talent_pools"].include?(controller_name)
          },
          {
            label: "Auditions",
            path: manage_production_auditions_path(Current.production),
            active: ["auditions", "audition_cycles", "audition_requests", "audition_sessions"].include?(controller_name)
          },
          {
            label: "Questionnaires",
            path: manage_production_questionnaires_path(Current.production),
            active: controller_name == "questionnaires"
          },
          {
            label: "Visual Assets",
            path: manage_production_visual_assets_path(Current.production),
            active: controller_name == "visual_assets"
          }
        ]
        %>

        <% links.each do |item| %>
          <% active_classes = item[:active] ? "bg-pink-500 text-white" : "text-gray-700" %>
          <%= link_to item[:label], item[:path], class: "coustard-regular flex items-center gap-3 px-4 py-2 hover:bg-pink-500 hover:text-white transition-all font-medium #{active_classes}" %>
        <% end %>

      <% end %>

      <%
        directory_active = controller_name == "people" || controller_name == "groups"
        directory_classes = directory_active ? "bg-pink-500 text-white" : "text-gray-700"

        team_active = controller_name == "team"
        team_classes = team_active ? "bg-pink-500 text-white" : "text-gray-700"

        locations_active = controller_name == "locations"
        locations_classes = locations_active ? "bg-pink-500 text-white" : "text-gray-700"
      %>

      <%= link_to "Directory", manage_people_path, class: "coustard-regular flex items-center gap-3 px-4 py-2 hover:bg-pink-500 hover:text-white transition-all font-medium #{directory_classes}" %>
      <%#= link_to "Groups", manage_groups_path, class: "coustard-regular flex items-center gap-3 px-4 py-2 hover:bg-pink-500 hover:text-white transition-all font-medium" %>
      <%= link_to "Production Team", manage_team_index_path, class: "coustard-regular flex items-center gap-3 px-4 py-2 hover:bg-pink-500 hover:text-white transition-all font-medium #{team_classes}" %>
      <%= link_to "Locations", manage_locations_path, class: "coustard-regular flex items-center gap-3 px-4 py-2 hover:bg-pink-500 hover:text-white transition-all font-medium #{locations_classes}" %>
    </div>

  </div>

  <!-- Bottom section -->
  <div class="flex justify-center pb-0">
    <%= image_tag "cocoscout.png", alt: "CocoScout Logo", class: "w-32" %>
  </div>

</nav>