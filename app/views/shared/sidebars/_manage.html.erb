
<nav class="w-56 bg-white border-r border-r-2 border-gray-200 flex flex-col transition-all duration-200 ease-in-out z-20 justify-between fixed left-0 top-0 h-screen">
  <div>

    <%= link_to manage_path, class: "mb-2" do %>
      <div class="p-5 pb-3 text-3xl coustard-regular bg-pink-500">
        <h1 class="text-white">CocoScout</h1>
      </div>
    <% end %>

    <div class="<%= 'pt-[40px]' if session[:impersonate_user_id] %>">

      <% if Current.production.present? && !Current.production.new_record? %>

        <div class="flex h-14">
          <%= link_to manage_production_path(Current.production), class: "flex-1 flex items-center justify-left bg-pink-50 hover:bg-pink-100 font-bold text-md px-4 h-full" do %>
            <%= Current.production.name %>
          <% end %>
          <%= link_to manage_productions_path, class: "flex items-center justify-center px-2 h-full bg-pink-50 hover:bg-pink-100" do %>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-pink-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          <% end %>
        </div>

        <div class="border-b-2 border-pink-400">
            <%
            links = [
              {"Shows" => manage_production_shows_path(Current.production)},
              {"Casting" => manage_production_casts_path(Current.production)},
              {"Roles" => manage_production_roles_path(Current.production)},
              {"Auditions" => manage_production_auditions_path(Current.production)}
            ]
            %>

            <% links.each do |item| %>
              <%= link_to item.keys.first, item.values.first, class: "block px-4 py-2 hover:bg-pink-100 hover:text-pink-700 transition-all text-sm" %>
            <% end %>
        </div>

      <% else %>
        <%= link_to "Productions", manage_productions_path, class: "flex items-center gap-3 px-4 py-2 hover:bg-pink-500 hover:text-white transition-all font-medium" %>
      <% end %>

      <%= link_to "People", manage_people_path, class: "flex items-center gap-3 px-4 py-2 hover:bg-pink-500 hover:text-white transition-all font-medium" %>
      <%= link_to "Team", manage_team_index_path, class: "flex items-center gap-3 px-4 py-2 hover:bg-pink-500 hover:text-white transition-all font-medium" %>
      <%= link_to "Locations", manage_locations_path, class: "flex items-center gap-3 px-4 py-2 hover:bg-pink-500 hover:text-white transition-all font-medium" %>
    </div>


      <% if Current.user.can_manage? %>
        <%= link_to "Exit Dashboard", my_dashboard_path, class: "block px-4 py-2 text-pink-400 text-xs underline" %>
      <% end %>


  </div>

  <!-- Bottom section -->
  <div>

    <div class="flex justify-center">
      <%= image_tag "cocoscout.png", alt: "CocoScout Logo", class: "w-32" %>
    </div>

    <div class="p-5 pb-4 border-t-4 border-pink-400 transition-all flex flex-col bg-pink-50">
      <% if Current.production_company.present? %>
        <div class="font-bold text-sm"><%= Current.production_company.name %></div>
        <div>
          <%= link_to "Switch", select_manage_production_companies_path, class: "text-pink-500 font-bold underline text-xs inline-block" %>
          <%= link_to "Edit", edit_manage_production_company_path(Current.production_company), class: "text-pink-500 font-bold underline text-xs inline-block" %>
        </div>
      <% end  %>
    </div>

  </div>

</nav>