<% content_for :title, "Productions" %>

<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
  <% end %>

  <%= render partial: "shared/top_menu", locals: {
    breadcrumbs: [],
    text: "Productions",
    links: [
      { text: "+ Add a Production", path: new_manage_production_path }
    ]
  } %>


  <% if @productions.any? %>
    <div class="grid grid-cols-1 gap-2 mt-2">
      <% @productions.each do |production| %>
        <%= link_to manage_production_path(production) do %>
          <div class="p-4 border border-gray-200 rounded-lg hover:border-gray-400 transition-all flex items-top">
            <div class="flex items-center">
                  <% if production.logo.attached? %>
                      <div class="mr-4">
                          <%= image_tag production.logo.variant(:small), alt: "#{production.name} logo", class: "w-[100px] object-contain rounded" %>
                      </div>
                  <% end %>
                  <div>
                      <div class="font-bold text-xl"><%= production.name %></div>
                  </div>
              </div>

          </div>
        <% end %>
      <% end %>
    </div>
  <% end %>

</div>
